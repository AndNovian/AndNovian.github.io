<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.148.2"><meta name=generator content="Relearn 8.0.0+9803d5122ebb3276acea823f476e9eb44f607862"><meta name=description content="How to isolate multiple devices using Sentinel Playbook (Logic App) and MDE API, based on device tags or groups"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Sentinel Playbook: Device Isolation Using MDE API (Part 2 - Logic App) :: Novian Andrian"><meta name=twitter:description content="How to isolate multiple devices using Sentinel Playbook (Logic App) and MDE API, based on device tags or groups"><meta property="og:url" content="https://andnovian.github.io/blog/defender/004.takeresponseapi2/index.html"><meta property="og:site_name" content="Novian Andrian"><meta property="og:title" content="Sentinel Playbook: Device Isolation Using MDE API (Part 2 - Logic App) :: Novian Andrian"><meta property="og:description" content="How to isolate multiple devices using Sentinel Playbook (Logic App) and MDE API, based on device tags or groups"><meta property="og:locale" content="en_us"><meta property="og:type" content="website"><meta itemprop=name content="Sentinel Playbook: Device Isolation Using MDE API (Part 2 - Logic App) :: Novian Andrian"><meta itemprop=description content="How to isolate multiple devices using Sentinel Playbook (Logic App) and MDE API, based on device tags or groups"><meta itemprop=wordCount content="902"><meta itemprop=keywords content="Sentinel,Defender,API,LogicApp,Isolation"><title>Sentinel Playbook: Device Isolation Using MDE API (Part 2 - Logic App) :: Novian Andrian</title><link href=/blog/defender/004.takeresponseapi2/index.xml rel=alternate type=application/rss+xml title="Sentinel Playbook: Device Isolation Using MDE API (Part 2 - Logic App) :: Novian Andrian"><link href=/css/auto-complete/auto-complete.min.css?1754897756 rel=stylesheet><script src=/js/auto-complete/auto-complete.min.js?1754897756 defer></script><script src=/js/search-lunr.min.js?1754897756 defer></script><script src=/js/search.min.js?1754897756 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/searchindex.en.js?1754897756"</script><script src=/js/lunr/lunr.min.js?1754897756 defer></script><script src=/js/lunr/lunr.stemmer.support.min.js?1754897756 defer></script><script src=/js/lunr/lunr.multi.min.js?1754897756 defer></script><script src=/js/lunr/lunr.en.min.js?1754897756 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/fonts/fontawesome/css/fontawesome-all.min.css?1754897756 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/fonts/fontawesome/css/fontawesome-all.min.css?1754897756 rel=stylesheet></noscript><link href=/css/perfect-scrollbar/perfect-scrollbar.min.css?1754897756 rel=stylesheet><link href=/css/theme.min.css?1754897756 rel=stylesheet><link href=/css/format-html.min.css?1754897756 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/blog/defender/004.takeresponseapi2/index.html",window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://andnovian.github.io",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!1,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["zen-dark"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script></head><body class="mobile-support html" data-url=/blog/defender/004.takeresponseapi2/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#step-1-designing-the-logic-apps>Step 1: Designing the Logic Apps</a><ul><li><a href=#adding-permission-to-logicapp>Adding Permission to LogicApp</a></li><li><a href=#logic-app-designer---trigger>Logic App Designer - Trigger</a></li><li><a href=#api-call-to-get-token>API call to GET Token</a></li><li><a href=#use-token-to-get-device-by-taggroup>Use token to GET device by Tag/Group</a></li><li><a href=#quick-sanity-check>Quick Sanity Check</a></li><li><a href=#loop-use-token-to-post-isolate-device-one-by-one>Loop, Use token to POST Isolate device one by one</a></li></ul></li><li><a href=#step-2-testing-and-confirming>Step 2: Testing and Confirming</a></li><li><a href=#wrapping-up-whats-next>Wrapping Up: Whats Next?</a></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement class=a11y-only><a itemprop=item href=/index.html><span itemprop=name>Welcome</span></a><meta itemprop=position content="1">&nbsp;>>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/blog/index.html><span itemprop=name>Blog Post</span></a><meta itemprop=position content="2">&nbsp;>>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/blog/defender/index.html><span itemprop=name>MS Defender</span></a><meta itemprop=position content="3">&nbsp;>>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Sentinel Playbook: Device Isolation Using MDE API #2</span><meta itemprop=position content="4"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/blog/defender/index.html title="Microsoft Defender (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/blog/defender/003.takeresponseapi1/index.html title="Sentinel Playbook: Device Isolation Using MDE API (Part 1 - API Setup) (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable blog" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline><div class="R-taxonomy taxonomy-tags cstyle tags" title=Tags style=--VARIABLE-TAGS-BG-color:var(--INTERNAL-TAG-BG-color)><ul><li><a class=term-link href=/tags/api/index.html>API</a></li><li><a class=term-link href=/tags/defender/index.html>Defender</a></li><li><a class=term-link href=/tags/isolation/index.html>Isolation</a></li><li><a class=term-link href=/tags/logicapp/index.html>LogicApp</a></li><li><a class=term-link href=/tags/sentinel/index.html>Sentinel</a></li></ul></div></header><h1 id=sentinel-playbook-device-isolation-using-mde-api-part-2---logic-app>Sentinel Playbook: Device Isolation Using MDE API (Part 2 - Logic App)</h1><hr><p>In <a href=/blog/defender/003.takeresponseapi1/index.html>Part 1</a> we learned how to authenticate with the Microsoft Defender API and retrieve a list of devices. In this part 2, weâ€™ll continue building on that by creating an Azure Logic App that isolates devices in bulk based on their Device Tag or Group.</p><hr><h2 id=step-1-designing-the-logic-apps>Step 1: Designing the Logic Apps</h2><p>Now we need to understand what are we going to do with Logic App. Here is the flow that we are trying to achieve by using Logic App + API. In part 1 demonstration, we have shown how we can GET Access Token and GET Defender device list.<pre class="mermaid align-center">
graph LR;
  Trigger --&gt; step2[&#34;API call to GET Token&#34;] --&gt; step3[&#34;Use token to GET device by Tag/Group&#34;] --&gt; step4[&#34;Loop, Use token POST to Isolate device one by one&#34;]
</pre></p><p>Once you are ready, our next step now is to go to Logic Apps page and create new Logic App. For this demo, I will be using <em>Consumption</em> hosting option as I will not be using this API that much for demo purpose.</p><h3 id=adding-permission-to-logicapp>Adding Permission to LogicApp</h3><p>We need our Logic App to be able to read client secret that we have stored in Azure Key Vault previously. To do so, go to <strong>Logic Apps</strong> > <strong>Settings</strong> > <strong>Identity</strong> page , we need to set up <strong>Managed Identity</strong>.</p><details open class="box cstyle notices tip"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-lightbulb"></i>
Tip</summary><div class=box-content><p>Using Managed Identity means your Logic App doesnâ€™t need to store sensitive values like client secrets directly in the workflow. This reduces the risk of exposure, and keeps your authentication process fully managed by Azure.</p></div></details><p><a href=#R-image-4472fc0a3146a710af1568e899f1a1a5 class=lightbox-link><img alt=logicAppDesigner2 class="lazy lightbox figure-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4472fc0a3146a710af1568e899f1a1a5><img alt=logicAppDesigner2 class="lazy lightbox lightbox-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner2.png></a></p><p>Now go to the <strong>Key Vault resource</strong> that you created in Part 1 > <strong>Access control (IAM)</strong> > <strong>Add</strong>, you want to add <strong>Key Vault Secrets User</strong> > Assign access to <strong>Managed identity</strong>. Save this Assignment.
<a href=#R-image-729f2a9716647feaab6ce333c5a7d158 class=lightbox-link><img alt=logicAppDesigner3 class="lazy lightbox figure-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-729f2a9716647feaab6ce333c5a7d158><img alt=logicAppDesigner3 class="lazy lightbox lightbox-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner3.png></a></p><h3 id=logic-app-designer---trigger>Logic App Designer - Trigger</h3><p>Go to <strong>Logic app designer</strong>. As this is a proof of concept, I will use manual trigger (<strong>When a HTTP request is received</strong>), and change the method to <strong>POST</strong>. If you want to create this as automation, you can modify the trigger.
<a href=#R-image-cc0744801a0b5ba4031bfa4308410699 class=lightbox-link><img alt=logicAppDesigner1 class="lazy lightbox figure-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cc0744801a0b5ba4031bfa4308410699><img alt=logicAppDesigner1 class="lazy lightbox lightbox-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner1.png></a></p><h3 id=api-call-to-get-token>API call to GET Token</h3><p>We need to retrieve the secret from Key vault. Create new action to <strong>Azure Key vault</strong> > <strong>Get secret</strong>, select <strong>Managed identity</strong> and paste your KeyVault name.
<a href=#R-image-854118afa5db24bc8287f3bfc34be081 class=lightbox-link><img alt=logicAppDesigner4 class="lazy lightbox figure-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner4.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-854118afa5db24bc8287f3bfc34be081><img alt=logicAppDesigner4 class="lazy lightbox lightbox-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner4.png></a></p><p>Next, we need to use these secret and to obtain our Access Token. Create new action for <strong>HTTP</strong> and enter the following information (modify the {tenant-id},{client-id} and {client-secret} accordingly):</p><blockquote><p><strong>Name:</strong> Get Token</p><p><strong>URI:</strong> <code>https://login.microsoftonline.com/{tenant-id}/oauth2/v2.0/token</code></p><p><strong>Headers:</strong> <code>Content-Type</code> -> <code>application/x-www-form-urlencoded</code></p><p><strong>Body:</strong></p><ul><li><code>grant_type=client_credentials</code></li><li><code>&amp;client_id={client-id}</code></li><li><code>&amp;client_secret={client-secret}</code></li><li><code>&amp;scope=https://api.securitycenter.microsoft.com/.default</code></li></ul></blockquote><p><a href=#R-image-574179afb087c7e04980a5a0bebf6088 class=lightbox-link><img alt=logicAppDesigner6 class="lazy lightbox figure-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner6.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-574179afb087c7e04980a5a0bebf6088><img alt=logicAppDesigner6 class="lazy lightbox lightbox-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner6.png></a>
To get the Client Secret from our Azure Key Vault, do the following:
<a href=#R-image-08cd10b34600b5b22a3fb086efadf325 class=lightbox-link><img alt=logicAppDesigner5 class="lazy lightbox figure-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner5.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-08cd10b34600b5b22a3fb086efadf325><img alt=logicAppDesigner5 class="lazy lightbox lightbox-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner5.png></a></p><h3 id=use-token-to-get-device-by-taggroup>Use token to GET device by Tag/Group</h3><p>Create a next action to HTTP again, and this time use the following information:</p><blockquote><p><strong>Name:</strong> Get Machine List</p><p><strong>URI:</strong> <code>https://api-us3.securitycenter.microsoft.com/api/machines</code></p><p><strong>Method:</strong> GET</p><p><strong>Headers:</strong></p><ul><li><code>Accept</code> -> <code>application/json</code></li><li><code>Authorization</code> -> <code>Bearer @{body('Get_Token')?['access_token']}</code></li><li><code>Content-Type</code> -> <code>application/json</code></li></ul></blockquote><p><a href=#R-image-10c80f33d9c52e5d336261ba7f4d1990 class=lightbox-link><img alt=logicAppDesigner7 class="lazy lightbox figure-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner7.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-10c80f33d9c52e5d336261ba7f4d1990><img alt=logicAppDesigner7 class="lazy lightbox lightbox-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner7.png></a></p><p>And since we want to filter it based on Device Tag in this example, create new action to <strong>Data Operations</strong> > <strong>Filter Array</strong>, input the following information:</p><blockquote><p><strong>Name:</strong> Filter for DeviceTag</p><p><strong>From:</strong> <code>@{body('Get_Machine_List')?['value']}</code></p><p><strong>Filter Query:</strong> <code>@contains(@{item()?['machineTags']},"TestTag")</code></p></blockquote><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Info</summary><div class=box-content><p>In above example we will use manual/static Device Tag <code>TestTag</code>. For Incident automation scenario you might want to get this information from your trigger, using the Dynamic function.</p></div></details><h3 id=quick-sanity-check>Quick Sanity Check</h3><p>Do a quick check, lets <strong>Run</strong> our Logic Apps, and see the result from top right <strong>Notification</strong> section > <strong>Open Run</strong>. You should be seeing something similar to this. Under the Outputs, now it only shows JSON details of devices with <code>TestTag</code> Machine Tag.
<a href=#R-image-19b802e919ecdbd73b9f79a5185dd2f0 class=lightbox-link><img alt=logicAppDesigner8 class="lazy lightbox figure-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner8.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-19b802e919ecdbd73b9f79a5185dd2f0><img alt=logicAppDesigner8 class="lazy lightbox lightbox-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner8.png></a></p><h3 id=loop-use-token-to-post-isolate-device-one-by-one>Loop, Use token to POST Isolate device one by one</h3><p>Now lets use the filtered data to Loop and execute Isolation one by one. Lets create our next action, <strong>For each</strong> and at the field <strong>Select an output from previous steps</strong> input <code>@{outputs('Filter_for_DeviceTag')['body']}</code>.
<a href=#R-image-a9c6357e6f68c7a766d01374e91de59c class=lightbox-link><img alt=logicAppDesigner9 class="lazy lightbox figure-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner9.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a9c6357e6f68c7a766d01374e91de59c><img alt=logicAppDesigner9 class="lazy lightbox lightbox-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner9.png></a></p><p>Create new action inside the loop, and create <strong>Condition</strong>. We will use this as our safeguard, this safeguard ensures that the isolation command only runs when the filtered list is not empty. Without it, a wrong filter could isolate all devices in your tenant.</p><p>. Inside the condition:</p><blockquote><p><code>@{length(body('Filter_for_DeviceTag'))}</code> is greater than <strong>0</strong>
<a href=#R-image-40cc31432042e0d257eb77818285777b class=lightbox-link><img alt=logicAppDesigner10 class="lazy lightbox figure-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner10.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-40cc31432042e0d257eb77818285777b><img alt=logicAppDesigner10 class="lazy lightbox lightbox-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppDesigner10.png></a></p></blockquote><p>Inside the <strong>True</strong> condition, we want to create new Action > <strong>HTTP</strong>.</p><blockquote><p>Name: Isolate Batch</p><p><strong>URI:</strong> <code>https://api.securitycenter.microsoft.com/api/machines/@{item()?['id']}/isolate</code></p><p><strong>Method:</strong> POST</p><p><strong>Headers</strong>:</p><ul><li><code>Content Type</code> -> <code>application/json</code></li><li><code>Authorization</code> -> <code>Bearer @{body('Get_Token')?['access_token']}</code></li></ul><p><strong>Body:</strong>
<code>{"Comment": "Isolating device due to suspicious activity","IsolationType": "Full"}</code></p></blockquote><h2 id=step-2-testing-and-confirming>Step 2: Testing and Confirming</h2><p>Thats all the set up you need from Logic App. Now I will test this by manually <strong>Run</strong> the Logic Apps, and it should send isolate command to devices in my environment with the &ldquo;TestTag&rdquo; Device Tag. You will see the result flow.
<a href=#R-image-cc9f981b9bf5d8072e8bd35ebcc24861 class=lightbox-link><img alt=logicAppRun1 class="lazy lightbox figure-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppRun1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cc9f981b9bf5d8072e8bd35ebcc24861><img alt=logicAppRun1 class="lazy lightbox lightbox-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppRun1.png></a></p><p>Now go to <strong>Security Portal > Investigation & response > Actions & submission > Action center > History</strong>, you should see the Isolate device command being sent by Logic App.
<a href=#R-image-cac9f46fa9bb4bff09f36658bc52ff7e class=lightbox-link><img alt=logicAppRun2 class="lazy lightbox figure-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppRun2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cac9f46fa9bb4bff09f36658bc52ff7e><img alt=logicAppRun2 class="lazy lightbox lightbox-image" loading=lazy src=/blog/defender/004.takeresponseapi2/logicAppRun2.png></a></p><hr><h2 id=wrapping-up-whats-next>Wrapping Up: Whats Next?</h2><p>With this setup, you now have a working Logic App that can securely fetch API credentials from Key Vault, query Defender for devices by tag, and isolate them in bulk â€” all with a single click (or based on trigger without manual intervention).</p><p>From here, you can take this proof of concept further by:</p><ul><li>Automating triggers â€” e.g., start the workflow automatically when a high-severity incident is detected in Microsoft Sentinel.</li><li>More Filtering â€” isolate based on alert category, severity, or custom metadata instead of a static Device Tag.</li></ul><p>This workflow not only streamlines incident response but also shows how combining Defender APIs with Logic Apps can build powerful, automated security operations.</p><footer class=footline></footer></article></div></main></div><aside id=R-sidebar class=default-animation><div id=R-header-topbar class=default-animation></div><div id=R-header-wrapper class=default-animation><div id=R-header class=default-animation><a id=R-logo class=R-default href=/index.html><div class=logo-title>Novian Andrian</div></a></div><search><form action=/search/index.html method=get><div class="searchbox default-animation"><button class=search-detail type=submit title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
<label class=a11y-only for=R-search-by>Search</label>
<input data-search-input id=R-search-by name=search-by class=search-by type=search placeholder=Search...>
<button class=search-clear type=button data-search-clear title="Clear search"><i class="fas fa-times" title="Clear search"></i></button></div></form></search></div><div id=R-homelinks class=default-animation><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-homelinks"><ul class="space collapsible-menu"></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-headercontrols"><ul></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div></div><div id=R-content-wrapper class=highlightable><div class="R-sidebarmenu R-shortcutmenu-main"><ul class="enlarge morespace collapsible-menu"><li data-nav-id=/about/index.html><a class=padding href=/about/index.html>. <i class="fa-solid fa-user" style=color:#00aeff></i> About Me</a></li><li data-nav-id=/credentials/index.html><a class=padding href=/credentials/index.html>. <i class="fa-regular fa-address-card" style=color:#00aeff></i> Credentials</a></li><li data-nav-id=/contact/index.html><a class=padding href=/contact/index.html>. <i class="fa-solid fa-envelope" style=color:#00aeff></i> Contact</a></li><li class="parent alwaysopen" data-nav-id=/blog/index.html><input type=checkbox id=R-section-c061e150208a7ab43c1b0b723b79816b aria-controls=R-subsections-c061e150208a7ab43c1b0b723b79816b checked><label for=R-section-c061e150208a7ab43c1b0b723b79816b><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Blog Post</span></label><a class=padding href=/blog/index.html>. <i class="fa-solid fa-blog fa-bounce" style=color:#ff5757></i> Blog Post</a><ul id=R-subsections-c061e150208a7ab43c1b0b723b79816b class=collapsible-menu><li class=parent data-nav-id=/blog/defender/index.html><input type=checkbox id=R-section-33dd05e5edb8d61a663c9a1412e8164e aria-controls=R-subsections-33dd05e5edb8d61a663c9a1412e8164e checked><label for=R-section-33dd05e5edb8d61a663c9a1412e8164e><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu MS Defender</span></label><a class=padding href=/blog/defender/index.html><i class="fa-sharp-duotone fa-solid fa-shield" style=color:#00aeff></i> MS Defender</a><ul id=R-subsections-33dd05e5edb8d61a663c9a1412e8164e class=collapsible-menu><li class=active data-nav-id=/blog/defender/004.takeresponseapi2/index.html><a class=padding href=/blog/defender/004.takeresponseapi2/index.html>Sentinel Playbook: Device Isolation Using MDE API #2</a></li><li data-nav-id=/blog/defender/003.takeresponseapi1/index.html><a class=padding href=/blog/defender/003.takeresponseapi1/index.html>Sentinel Playbook: Device Isolation Using MDE API #1</a></li><li data-nav-id=/blog/defender/002.live-analyzer/index.html><a class=padding href=/blog/defender/002.live-analyzer/index.html>Live Response to Remotely Collect Defender Logs</a></li><li data-nav-id=/blog/defender/001.mpregistry/index.html><a class=padding href=/blog/defender/001.mpregistry/index.html>Tracking Defender Policy Deployment with Logs</a></li></ul></li></ul></li></ul></div><div class="R-sidebarmenu R-shortcutmenu-shortcuts"><ul class="space collapsible-menu"></ul></div><div id=R-footer-margin></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-footercontrols"><ul></ul></div><div id=R-footer><a href=https://gohugo.io/>Hugo</a> + <a href=https://github.com/McShelby/hugo-theme-relearn>Relearn</a></div></div></aside><script src=/js/js-yaml/js-yaml.min.js?1754897756 defer></script><script src=/js/d3/d3-color.min.js?1754897756 defer></script><script src=/js/d3/d3-dispatch.min.js?1754897756 defer></script><script src=/js/d3/d3-drag.min.js?1754897756 defer></script><script src=/js/d3/d3-ease.min.js?1754897756 defer></script><script src=/js/d3/d3-interpolate.min.js?1754897756 defer></script><script src=/js/d3/d3-selection.min.js?1754897756 defer></script><script src=/js/d3/d3-timer.min.js?1754897756 defer></script><script src=/js/d3/d3-transition.min.js?1754897756 defer></script><script src=/js/d3/d3-zoom.min.js?1754897756 defer></script><script src=/js/mermaid/mermaid.min.js?1754897756 defer></script><script>window.relearn.themeUseMermaid=JSON.parse("{}")</script><script src=/js/clipboard/clipboard.min.js?1754897756 defer></script><script src=/js/perfect-scrollbar/perfect-scrollbar.min.js?1754897756 defer></script><script src=/js/theme.min.js?1754897756 defer></script></body></html>